[{"/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/index.js":"1","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/Routes.js":"2","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/Home.js":"3","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/ProductList.js":"4","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/ProductCard.js":"5","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/ProductInfo.js":"6","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/Catalog.js":"7","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/TopBar.js":"8","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/CheckOut.js":"9","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/ProductCheckOut.js":"10"},{"size":239,"mtime":1608671762856,"results":"11","hashOfConfig":"12"},{"size":2478,"mtime":1613432607761,"results":"13","hashOfConfig":"12"},{"size":592,"mtime":1613434151649,"results":"14","hashOfConfig":"12"},{"size":2487,"mtime":1613433303666,"results":"15","hashOfConfig":"12"},{"size":671,"mtime":1613265974875,"results":"16","hashOfConfig":"12"},{"size":1544,"mtime":1613432668542,"results":"17","hashOfConfig":"12"},{"size":894,"mtime":1613432448651,"results":"18","hashOfConfig":"12"},{"size":1799,"mtime":1613432738700,"results":"19","hashOfConfig":"12"},{"size":5332,"mtime":1613433415185,"results":"20","hashOfConfig":"12"},{"size":1408,"mtime":1613426601244,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1bq7pvm",{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},"/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/index.js",[],["46","47"],"/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/Routes.js",["48"],"import React, {useState} from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Catalog from \"./Catalog\";\nimport ProductList from \"./ProductList\"\nimport ProductInfo from \"./ProductInfo\";\nimport CheckOut from \"./CheckOut\";\n\n\nfunction getProducts(){\n  let products = new Map();\n  ProductList.forEach(product =>{\n    products.set(product.id, product)\n  })\n  return products;\n}\n\nconst Routes = (props) => {\n  const [products, setProducts] = useState(getProducts());\n  const [numProducts, setNumProducts] = useState(0);\n  const [cart, setCart] = useState(new Map());\n  const [selectedProduct, setSelectedProduct] = useState();\n\n  function addCart(id){\n    let newCart = cart;\n    if(newCart.has(id)){\n      newCart.set(id, newCart.get(id) + 1);\n    }\n    else{\n      newCart.set(id, 1);\n    }\n    setNumProducts(numProducts + 1);\n    setCart(newCart);\n  }\n\n  function removeProductFromCart(id){\n    let newCart = cart;\n    let numProduct = newCart.get(id);\n    newCart.delete(id);\n    setCart(newCart);\n    setNumProducts(numProducts - numProduct);\n  }\n\n  function changeProductFromCart(id, change){\n    let newCart = cart;\n    if(newCart.has(id)){\n      if(change === \"subtract\"){\n        if(newCart.get(id) > 1){\n          newCart.set(id, newCart.get(id) - 1);\n        }\n        else{\n          newCart.delete(id);\n        }\n        setNumProducts(numProducts - 1);\n      }\n      else if(change === \"add\"){\n        newCart.set(id, newCart.get(id) + 1);\n        setNumProducts(numProducts + 1);\n      }\n      console.log(cart.get(id));\n    }\n  }\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/Catalog\" render={(props) => (\n          <Catalog {...props} cart={cart} addCart={(id) => addCart(id)} numProducts={numProducts} products={products} setSelectedProduct={setSelectedProduct}/>\n        )}/>\n        <Route exact path=\"/ProductInfo\" render={(props) => (\n          <ProductInfo {...props} addCart={(id) => addCart(id)} numProducts={numProducts} product={selectedProduct}/>\n        )}/>\n        <Route exact path=\"/CheckOut\" render={(props) => (\n          <CheckOut {...props} cart={cart} removeProductFromCart={(id) => removeProductFromCart(id)} numProducts={numProducts} products={products} changeProductFromCart={(id, change) => changeProductFromCart(id, change)}/>\n        )}/>\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/Home.js",[],"/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/ProductList.js",[],"/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/ProductCard.js",[],"/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/ProductInfo.js",[],"/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/Catalog.js",[],"/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/TopBar.js",[],"/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/CheckOut.js",["49"],"import React, {Fragment, useState, useEffect} from \"react\";\nimport ProductCheckOut from \"./ProductCheckOut\";\nimport TopBar from \"./TopBar\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nfunction checkCode(code, productsPrice){\n    /* Check code with some API */\n\n    let total = 0;\n    if(productsPrice > 0){\n        if(code.toLowerCase() === \"discount10\" && productsPrice > 0){\n            total = productsPrice * 0.1;\n        }\n        else if(code.toLowerCase() === \"discount50\" && productsPrice > 0){\n            total = productsPrice * 0.5;\n        }\n    }\n    return total.toFixed(2);\n\n}\n\nconst CheckOut = (props) => {\n    const [productsPrice, setProductsPrice] = useState(getTotalPrice());\n    const [shippingPrice, setShippingPrice] = useState(getShippingCost());\n    const [discountPrice, setDiscountPrice] = useState(0);\n    const [discountCode, setDiscountCode] = useState(\"\");\n\n    useEffect(() =>{\n        applyDiscount();\n        setShippingPrice(getShippingCost());\n    }, [productsPrice]);\n\n    function goBack(){\n        props.history.push(\"/Catalog\");\n    }\n\n    function getTotalPrice(){\n        let cart = props.cart;\n        let products = props.products;\n        let total = 0;\n        products.forEach(product => {\n            if(cart.has(product.id)){\n                total += (parseFloat(product.price) * cart.get(product.id));\n            }\n        });\n        return total;\n    }\n\n    function getShippingCost(){\n        let total = 0;\n        if(productsPrice > 100 && productsPrice < 150){\n            total = 1.99;\n        }\n        else if(productsPrice > 75 && productsPrice < 150){\n            total = 2.99;\n        }\n        else if(productsPrice > 50 && productsPrice < 150){\n            total = 3.99;\n        }\n        else if(productsPrice > 0 && productsPrice < 150){\n            total = 4.99;\n        }\n        return total;\n    }\n\n    function applyDiscount(){\n        setDiscountPrice(checkCode(discountCode, productsPrice));\n    }\n\n    function handleDiscoundCodeChange(e){\n        setDiscountCode(e.target.value);\n    }\n\n    function removeProductFromCart(id){\n        props.removeProductFromCart(id);\n        setProductsPrice(getTotalPrice(props.cart, props.products));\n    }\n\n    function changeProductFromCart(id, change){\n        props.changeProductFromCart(id, change);\n        setProductsPrice(getTotalPrice(props.cart, props.products));\n    }\n\n    return (\n        <Fragment>\n            <TopBar history={props.history} numProducts={props.numProducts}></TopBar>\n        \n            <div className=\"checkout-page\">\n                <div className=\"back-button\">\n                    <IconButton aria-label=\"Back\" onClick={goBack}>\n                        <ArrowBackIcon />\n                    </IconButton>\n                </div>\n                <div className=\"left-side\">\n                    <div className=\"product-list\">\n                        {[...props.products.values()].filter( product => {\n                            return props.cart.has(product.id)\n                        }).map(product => {\n                            let quantity = props.cart.get(product.id);\n                            return <ProductCheckOut key={product.id} product={product} quantity={quantity} removeProductFromCart={(id) => removeProductFromCart(id)} changeProductFromCart={(id, change) => changeProductFromCart(id, change)}/>\n                        })}\n                    </div>\n                </div>\n                <div className=\"right-side sticky\">\n                    <div className=\"checkout-info\">\n                        <div className=\"products-price\">\n                            <label>Price:</label>\n                            <span>{productsPrice}€</span>\n                        </div>\n                        <div className=\"shipping-price\">\n                            <label>Shipping:</label>\n                            <span>{shippingPrice}€</span>\n                        </div>\n                        <div className=\"discount-price\">\n                            <label>Discount:</label>\n                            <span>{discountPrice}€</span>\n                            <br/>\n                            <Tooltip title=\"Try 'discount10' or 'discount50'\">\n                                <TextField size=\"small\"  label=\"Coupon\" variant=\"outlined\" value={discountCode} onChange={(e) => handleDiscoundCodeChange(e)}/>\n                            </Tooltip>\n                            <Button size=\"medium\" variant=\"contained\" onClick={() => applyDiscount()}>Apply</Button>\n                        </div>\n                        <hr/>\n                        <div className=\"total-price\">\n                            <label>Total:</label>\n                            <span>{(productsPrice + shippingPrice - discountPrice).toFixed(2)}€</span>\n                        </div>\n                        <Tooltip title=\"Payment not implemented\">\n                            <Button size=\"small\" variant=\"contained\">Checkout</Button>\n                        </Tooltip>\n                    </div>\n                </div>\n            </div>\n        </Fragment>\n    );\n\n}\n\nexport default CheckOut;","/Users/shengzhu/Documents/Dev/TOD/shopping-cart/src/components/ProductCheckOut.js",[],["50","51"],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":19,"column":20,"nodeType":"58","messageId":"59","endLine":19,"endColumn":31},{"ruleId":"60","severity":1,"message":"61","line":34,"column":8,"nodeType":"62","endLine":34,"endColumn":23,"suggestions":"63"},{"ruleId":"52","replacedBy":"64"},{"ruleId":"54","replacedBy":"65"},"no-native-reassign",["66"],"no-negated-in-lhs",["67"],"no-unused-vars","'setProducts' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'applyDiscount' and 'getShippingCost'. Either include them or remove the dependency array.","ArrayExpression",["68"],["66"],["67"],"no-global-assign","no-unsafe-negation",{"desc":"69","fix":"70"},"Update the dependencies array to be: [applyDiscount, getShippingCost, productsPrice]",{"range":"71","text":"72"},[1161,1176],"[applyDiscount, getShippingCost, productsPrice]"]